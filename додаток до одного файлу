import requests

WHATSAPP_TOKEN = "–í–°–¢–ê–í_–¢–û–ö–ï–ù"
WHATSAPP_PHONE_ID = "–í–°–¢–ê–í_PHONE_ID"
WHATSAPP_TO = "–í–°–¢–ê–í_–ù–û–ú–ï–†_–£_–§–û–†–ú–ê–¢–Ü_+380..."
def send_whatsapp(message: str):
    url = f"https://graph.facebook.com/v18.0/{WHATSAPP_PHONE_ID}/messages"
    headers = {
        "Authorization": f"Bearer {WHATSAPP_TOKEN}",
        "Content-Type": "application/json"
    }
    data = {
        "messaging_product": "whatsapp",
        "to": WHATSAPP_TO,
        "type": "text",
        "text": {"body": message}
    }
    try:
        requests.post(url, json=data, headers=headers)
        logging.info("üì® WhatsApp –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ")
    except Exception as e:
        logging.error(f"‚ö† –ü–æ–º–∏–ª–∫–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ –≤ WhatsApp: {e}")
def watchdog():
    logging.info("üîç Watchdog –∑–∞–ø—É—â–µ–Ω–æ")
    while True:
        try:
            if not system_check():
                logging.error("‚ùå –í–∏—è–≤–ª–µ–Ω–æ –∫—Ä–∏—Ç–∏—á–Ω—É –ø—Ä–æ–±–ª–µ–º—É!")
                send_whatsapp("‚ùó –£–í–ê–ì–ê: Watchdog –≤–∏—è–≤–∏–≤ –ø–æ–º–∏–ª–∫—É –≤ —Å–∏—Å—Ç–µ–º—ñ!")
            else:
                logging.info("‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞—Ü—é—î —Å—Ç–∞–±—ñ–ª—å–Ω–æ")
        except Exception as e:
            logging.error(f"‚ö† Watchdog –ø–æ–º–∏–ª–∫–∞: {e}")
            send_whatsapp(f"‚ö† Watchdog –≤–∏–∫–ª—é—á–µ–Ω–Ω—è: {e}")
        time.sleep(10)
docker run -d \
   -e WHATSAPP_TOKEN="EAAN..." \
   -e WHATSAPP_PHONE_ID="123456789012345" \
   -e WHATSAPP_TO="+380XXXXXXXXX" \
   -p 8080:8080 \
   service-image
import os
WHATSAPP_TOKEN = os.getenv("WHATSAPP_TOKEN")
WHATSAPP_PHONE_ID = os.getenv("WHATSAPP_PHONE_ID")
WHATSAPP_TO = os.getenv("WHATSAPP_TO")

docker run -d \
   -e WHATSAPP_TOKEN="EAAN..." \
   -e WHATSAPP_PHONE_ID="123456789012345" \
   -e WHATSAPP_TO="+380XXXXXXXXX" \
   -p 8080:8080 \
   service-image
